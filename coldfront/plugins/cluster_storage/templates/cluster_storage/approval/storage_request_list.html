{% extends "common/base.html" %}
{% load common_tags %}
{% load crispy_forms_tags %}
{% load static %}


{% block title %}
Free Faculty Storage {{ request_filter|title }} Requests
{% endblock %}


{% block content %}
<script type='text/javascript' src="{% static 'selectize/selectize.min.js' %}"></script>
<link rel='stylesheet' type='text/css' href="{% static 'selectize/selectize.bootstrap3.css' %}"/>


<h1>{{ request_filter|title }} Free Faculty Storage Requests</h1>
<hr>


<form id="search_form" method="GET" action="{% url 'storage-request-list' %}" autocomplete="off">
  {{ search_form|crispy }}
  <input type="submit" class="btn btn-primary" value="Search">
</form>
<hr>


<p>
  <b>
    Note: Only Pending requests are shown by default. Use the "Status" filter to show other requests.
  </b>
</p>
<hr>


{% if storage_requests %}
  <div class="table-responsive">
    {% with queryset=storage_requests display_user_info=display_user_info %}
      {% include 'cluster_storage/approval/storage_request_list_table.html' with display_user_info=display_user_info %}
    {% endwith %}
  </div>

  {% with page_obj=storage_requests %}
    {% include 'common/pagination.html' %}
  {% endwith %}
{% else %}
  <div class="alert alert-info">
    No free faculty storage requests.
  </div>
{% endif %}

{% endblock %}


{% block javascript %}
{{ block.super }}

<script>
  $("#navbar-main > ul > li.active").removeClass("active");
  $("#navbar-admin").addClass("active");
  $(document).ready(function() {
    $('[data-toggle="popover"]').popover();
  });
</script>

<script>
  $('select').selectize({
    create: false,
    sortField: 'text'
  })
</script>

{% endblock %}
