<div class="card mb-3">
  <div class="card-header">
    <h2>
      <i class="fas fa-info-circle" aria-hidden="true"></i>
      Request Information

        {% with status=storage_request.status.name %}
          {% if status == 'Under Review' %}
            <span class="badge badge-warning" style="float:right; position:relative; top:5px;">{{ status }}</span>
          {% elif status == 'Approved - Processing' %}
            <span class="badge badge-warning" style="float:right; position:relative; top:5px;">{{ status }}</span>
          {% elif status == 'Approved - Queued' %}
            <span class="badge badge-warning" style="float:right; position:relative; top:5px;">{{ status }}</span>
          {% elif status == 'Approved - Complete' %}
            <span class="badge badge-success" style="float:right; position:relative; top:5px;">{{ status }}</span>
          {% else %}
            <span class="badge badge-danger" style="float:right; position:relative; top:5px;">{{ status }}</span>
          {% endif %}
        {% endwith %}

    </h2>
  </div>
  <div class="card-body">
    <p class="card-text text-justify">
      <strong>Request #: </strong>
      {{ storage_request.pk }}
    </p>
    <p class="card-text text-justify">
      <strong>Date Requested: </strong>
      {{ storage_request.request_time|date:"M. d, Y" }}
    </p>
    {% if storage_request.approval_time %}
      <p class="card-text text-justify">
        <strong>Date Approved: </strong>
        {{ storage_request.approval_time|date:"M. d, Y" }}
      </p>
    {% endif %}
    {% if storage_request.completion_time %}
      <p class="card-text text-justify">
        <strong>Date Completed: </strong>
        {{ storage_request.completion_time|date:"M. d, Y" }}
      </p>
    {% endif %}
    <p class="card-text text-justify">
      <strong>Project: </strong>
      {% with project=storage_request.project %}
        <a href="{% url 'project-detail' storage_request.project.pk %}">
          {{ project.name }}
        </a>
      {% endwith %}
    <p class="card-text text-justify">
      <strong>Requester: </strong>
      {% with requester=storage_request.requester %}
        {{ requester.first_name }} {{ requester.last_name }} ({{ requester.email }})
      {% endwith %}
    </p>
    <p class="card-text text-justify">
      <strong>Requested Amount: </strong>
      {{ requested_amount_tb }} TB
      {% if allow_editing %}
      <a href="{% url 'storage-request-edit' storage_request.pk %}"><i class="fas fa-edit"></i></a>
      {% endif %}
    </p>
    <p class="card-text text-justify">
      <strong>Approved Amount: </strong>
      {% if approved_amount_tb %}
        {{ approved_amount_tb }} TB
      {% else %}
        TBD
      {% endif %}
    </p>
    <p class="card-text text-justify">
      <strong>PI: </strong>
      {% with pi=storage_request.pi %}
        {{ pi.first_name }} {{ pi.last_name }} ({{ pi.email }})
      {% endwith %}
    </p>
    {% if proposed_directory_path %}
    <p class="card-text text-justify">
      <strong>Directory: </strong>
      <code>{{ proposed_directory_path }}</code>
    </p>
    {% endif %}
  </div>
</div>
