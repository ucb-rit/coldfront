<table class="table table-sm">
  <thead>
  <tr>
    <th scope="col">
      #
    </th>
    <th scope="col">
      Username
      {% include 'common/table_sorter.html' with table_sorter_field='project_user__user__username' %}
    </th>
    <th scope="col">
      User Email
      {% include 'common/table_sorter.html' with table_sorter_field='project_user__user__email' %}
    </th>
    <th scope="col">
      Project
      {% include 'common/table_sorter.html' with table_sorter_field='project_user__project' %}
    </th>
    <th scope="col">
      Date Requested
      {% include 'common/table_sorter.html' with table_sorter_field='created' %}
    </th>
    <th scope="col">
      Reason
    </th>
  </tr>
  </thead>
  <tbody>
  {% for join_request in queryset %}
    <tr>
      <td>{{ forloop.counter }}</td>
      <td>
        {{ join_request.project_user.user.username }}
      </td>
      <td>{{ join_request.project_user.user.email }}</td>
      <td>
        <a href="{% url 'project-detail' join_request.project_user.project.pk %}">
          {{ join_request.project_user.project.name }}
        </a>
      </td>
      <td>{{ join_request.created|date:"M. d, Y" }}</td>
      <td>
        {{ join_request.reason }}
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>
